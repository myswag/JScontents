<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1241"/>

<div>
<span><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">1、什么是ajax</span></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">异步的javascript and   xml  ， 实现了与web页面数据交互</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">好处：实现了页面无刷新（局部刷新）     响应数据的速度快</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">ajax实现数据传递接收的流程图：</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;"><br/></span></span></span></div><div><img src="1705 day21_files/Image.png" type="image/png" style="height:auto;" width="882"/></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;"><br/></span></span></span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">2、同步和异同</span></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">异步：同时执行  （生活中的同步）    发短信   </span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">同步：顺序执行                    打电话</span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">3、线程  </span></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">多线程：  多线程异步执行 </span></div><div><span style="font-size: 16px;">单线程：  一次完成一件事情</span></div><div><span style="font-size: 16px;">进程 ：  进程  ！=  线程       程序从开始到结束的一个过程称为一个进程</span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">4、ajax请求数据的方式</span></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">get ：   从服务器获取数据   地址栏传值   安全性低     传送数据量小     </span></div><div><span style="font-size: 16px;">post：   向服务器发送数据   安全性高  传递的数据量大小没有限制</span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">5、ajax请求数据步骤</span></div><div><span style="font-size: 16px;"><br/></span></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><span style="font-size: 16px;">打电话 ：</span></div><div><span style="font-size: 16px;">1、需要一个手机</span></div><div><span style="font-size: 16px;">2、拨号 建立连接 </span></div><div><span style="font-size: 16px;">3、打电话方（客户端）   说   </span></div><div><span style="font-size: 16px;">4、对方（服务器）  听   信息反馈</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">ajax请求数据：</span></div><div><span style="font-size: 16px;">1、需要一个ajax对象</span></div><div><span style="font-size: 16px;">2、建立和服务器的连接  通过open方法</span></div><div><span style="font-size: 16px;">ajax.open(&quot;请求方式get&quot;,&quot;请求路径&quot;,&quot;异步&quot;)  第三个参数为 true</span>  表示异步   可以省略</div><div><br/></div><div><span style="font-size: 16px;">3、发送数据    ajax.send()   get方式请求  没有参数</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">4、服务器请求数据并返回结果</span></div><div><span style="font-size: 16px;">ajax.onreadystatechange = function(){</span></div><div><span style="font-size: 16px;">     判断ajax请求数据过程中的状态值(4)和状态码 (200)</span></div><div><span style="font-size: 16px;">     状态值属性： readyState</span></div><div><span style="font-size: 16px;">     状态码属性： status</span></div><div><span style="font-size: 16px;">     接收返回的结果属性：responseText<br/></span></div><div><span style="font-size: 16px;">}</span></div><div><span style="font-size: 16px;">状态值 ：  ajax将数据发送给服务器时响应数据过程</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">ajax状态值说明：</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">     0 ：请求未初始化（还没有调用open）</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">     1 ：请求已经建立，但是还没有发送（还没有调用send()）</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">     2 : 请求已发送，正在处理中</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">     3 : 请求在处理中，通常响应中已有部分数据可以用了，但是服务器还没有完成响应的生成</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">     4 ：响应已完成 您可以获取并使用服务器的响应了</span></div><div><span style="font-size: 16px;"> </span></div><div><span style="font-size: 16px;">状态码 ：  服务器响应数据是否成功 </span></div><div style="margin-left:40px;"><span style="font-size: 16px;">200——交易成功</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">400——错误请求，如语法错误</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">404——没有发现文件、查询或URl</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">500——服务器产生内部错误</span></div><div><span style="font-size: 16px;"><br/></span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">6、如何解决缓存问题</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">改变文件的路径</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">http://www.jd.com?id = 1 &amp; iname = 111</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;"><br/></span></span></span></div><div>在路径上加一个随机值，保证每次请求文件路径不同，解决缓存问题</div><div align="left" style="min-height: 16pt;"><div><span style="font-size: 16px;">ajax.open(&quot;get&quot;,&quot;http://127.0.0.1/1705ajax/day21/t&quot;+(this.index+1)+&quot;.txt?id=&quot;+ new Date().getTime() );  </span></div><div><span style="font-size: 16px;">ajax.open(&quot;get&quot;,&quot;http://127.0.0.1/1705ajax/day21/t&quot;+(this.index+1)+&quot;.txt?id=&quot;+Math.random() );  </span></div></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">7、将string类型转成object类型</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">JSON.parse()</span></div><div><span style="font-size: 16px;">eval()   安全性低   转json对象时需要注意格式问题   eval(  &quot;(&quot; + result + &quot;)&quot;  )</span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">8、模拟接口实现 验证用户名的唯一性</span></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">接口 ： http://localhost/day/xxx.php </span></div><div><span style="font-size: 16px;">接口参数：</span></div><div><span style="font-size: 16px;">     接口路径</span></div><div><span style="font-size: 16px;">     传递的参数</span></div><div><span style="font-size: 16px;">     接口返回值 <br/></span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 