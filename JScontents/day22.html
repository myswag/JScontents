<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1245"/>

<div>
<span><div><br/></div><div>ajax ：  </div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><span style="font-size: 16px;">作用   无刷新   局部刷新     速度快</span></div><div><span style="font-size: 16px;">同步和异步</span></div><div><span style="font-size: 16px;">ajax请求方式  ：get   post</span></div><div><span style="font-size: 16px;">ajax请求步骤  ：  </span></div><div><span style="font-size: 16px;">ajax对象 ----   XMLHttpRequest</span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">1、ajax的post请求</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">需要设置请求头：</span></div><div><span style="font-size: 16px;">     ajax.setRequestHeader(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;);</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">发送的数据需要通过send方法来实现 ajax.send( 发送的数据 );  例如：  &quot;uname=admin &amp;upwd=www&amp;age=33&quot;</span></div></div><div><br/></div><div><span style="font-size: 16px;">2、同源策略  </span></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">同源 ：同一个来源</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">同源策略是浏览器的一个行业标准 ，保证ajax请求时  必须保证  <span style="color: rgb(255, 70, 53);">协议 、 域名  、端口 </span>要完全一致的情况下 才可以请求服务器的数据。</span></span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">http://www.baidu.com：8080    http://127.0.0.1:8020/</span></span></span></div><div><span style="font-size: 16px;">https://www.baidu.com：8080    </span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">受同源策略的影响 ，ajax不可以实现 跨域请求数据  </span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;"><br/></span></span></span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">3、使用jsonp实现 跨域请求数据</span></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">什么是jsonp：  json  with  padding   ， 是json 的一种 访问格式 ，就是用来解决 浏览器的 跨域请求数据问题</span></div><div><span style="font-size: 16px;">如何实现跨域 ：</span></div><div><span style="font-size: 16px;">      1、 动态的创建script标签   </span></div><div><span style="font-size: 16px;">      2、 将script标签的src属性 设置为 要请求的 接口路径  ，接口路径上 有一个参数 ，参数值为一个回调函数 ，通过这个回调函数 接收服务器返回的数据。</span></div><div><span style="font-size: 16px;">      3、 将动态创建的script标签添加到body中<br/></span></div><div><span style="font-size: 16px;">      返回的数据 可以  直接操作使用，不需要进行类型转换。</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">可以在php服务器上实现跨域 </span></div><div><span style="font-size: 16px;">cors跨域 ：    实现  设置 header(&quot;Access-Control-Allow-Origin:*&quot;);</span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">4、异步编程</span></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">promise  ---   承诺  </span></div><div><span style="font-size: 16px;">setTimeout(function(){</span></div><div><span style="font-size: 16px;">     ....<br/></span></div><div><span style="font-size: 16px;">},2000)</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">ajaxGet(url,data,function(){</span></div><div><span style="font-size: 16px;">     ajaxGet(url,data,function(){</span></div><div><span style="font-size: 16px;">          <br/></span></div><div><span style="font-size: 16px;">     })<br/></span></div><div><span style="font-size: 16px;">})</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">startMove({},function(){</span></div><div><span style="font-size: 16px;">     startMove({},function(){})<br/></span></div><div><span style="font-size: 16px;">})</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">promise对象解决问题 ：  解决ajax的异步编写问题  或  嵌套问题</span></div><div><span style="font-size: 16px;">创建：   new Promise(function(){ ...  })  </span></div><div><span style="font-size: 16px;">三种状态 : pending   进行中       resolved  已解决      rejected 失败了</span></div><div><span style="font-size: 16px;">当promise对象执行了 success方法后，就可以执行 then方法 ，进入下一个动作  </span></div><div><span style="font-size: 16px;">当promise对象执行了 failded方法后 ，就可以执行  catch 方法  。</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">或 ：  then 方法中  可以接受两个匿名函数  第一个匿名函数 执行 success   第二个执行  failed  </span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 