<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1197"/>

<div>
<span><div>复习</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">事件：</span></div><div><span style="font-size: 16px;">事件对象：e || event</span></div><div><font size="4"><span>坐标属性 ： pageX    clientX     offsetX    screenX</span></font></div><div><font size="4"><span>button 属性 ：  0   1   2</span></font></div><div><span style="font-size: 16px;">获取按键值 ： keyCode   功能键 ： 布尔值   </span></div><div><span style="font-size: 16px;">事件流：  </span></div><div><span style="font-size: 16px;">事件冒泡 和  事件捕获</span></div><div><span style="font-size: 16px;">事件绑定 ： </span></div><div><span style="font-size: 16px;">阻止事件冒泡</span></div><div><span style="font-size: 16px;">阻止右键菜单</span></div><div><span style="font-size: 16px;">阻止超链接的默认行为</span></div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;">1、事件监听 兼容</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">高版本浏览器  ： addEventListener()  执行顺序 和书写书序一致（正序）</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">ie 6 7 8 :  attachEvent()     执行顺序 和 书写顺序相反</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">兼容函数：</span></span></span></div><div><span style="font-size: 16px;">     function addEvent(obj,type,callback){ //callback  函数名  : 回调函数</span></div><div><span style="font-size: 16px;">          if( obj.addEventListener ){</span></div><div><span style="font-size: 16px;">              obj.addEventListener(type,callback);</span></div><div><span style="font-size: 16px;">          }else{</span></div><div><span style="font-size: 16px;">              obj.attachEvent( &quot;on&quot; + type , callback );</span></div><div><span style="font-size: 16px;">          }</span></div><div><span style="font-size: 16px;">     }</span></div></div><div><br/></div><div><span style="font-size: 16px;">2、事件委托</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">委托：让别人去做</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">事件委托 ：  当多个标签有同样的一个事件时，把事件添加到这些标签的父级元素上  ，只添加一次就好</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">委托的好处：</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     提高程序执行效果  </span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     动态创建的标签 可以在函数的外面添加事件</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">委托机制 ：利用事件冒泡或事件捕获机制完成   </span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">不是所有的事件都可以事件事件冒泡  或  事件委托   ，例如 ： onload  onfocus  onblur</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;"><br/></span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">委托实现方式 ：</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     方式一： 父级元素.onclick = function(){</span><span style="font-size: 16px;">}</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     方式二： 父级元素.addEventListener(&quot;click&quot;,function(){})</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;"><br/></span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><font size="4"><span>委托获取事件源对象兼容：</span></font></span></span></div><div align="left" style="min-height: 16pt;"><div><span style="font-size: 16px;">     e.target || e.srcElement</span></div></div></div><div><br/></div><div><span style="font-size: 16px;">3、json对象</span></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">什么是json ：javascript  object  notation</span></div><div><span style="font-size: 16px;">            javascript的一种对象表示法</span></div><div><span style="font-size: 16px;">作用 ： 是一种轻量级的数据交换格式</span></div><div><span style="font-size: 16px;">        存储数据  </span></div><div><font size="4"><span>json对象定义：</span></font></div><div><span style="font-size: 16px;">     var obj = {} </span></div><div><span style="font-size: 16px;">     json对象的数据以&quot;键值对&quot;格式存储，严格的json模式 键 必须用双引号 括起来   ，值 可以是任意类型 </span></div><div><span style="font-size: 16px;">     例如：</span></div><div><span style="font-size: 16px;">     obj = { &quot;id&quot;: 01 , &quot;name&quot;:&quot;jack&quot;, &quot;age&quot;:30  };</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">json 数据的读写操作 ： </span></div><div><span style="font-size: 16px;">     读数据：  json对象.键     或   json对象[&quot;键&quot;]</span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">4、拖拽思路</span></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">1、鼠标按下 事件 onmousedown  </span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">鼠标按下时，需要记录 ： 鼠标相对拖拽物体的内部偏移量   </span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">disx = e.offsetX;</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">disy = e.offsetY;</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">2、鼠标按下时，如果要让某个元素在页面上移动，鼠标按下的同时，需要添加鼠标在文档上的移动事件</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">document.onmousemove = function(){</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     移动时 ，需要改变移动物体的left 和 top值来完成元素的移动<br/></span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">}</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">3、如果想取消拖拽，当鼠标抬起时取消移动，给元素一个抬起onmouseup事件</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;"> document.onmousemove = null / &quot;&quot;  取消移动</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">取消拖拽时文字选中：</span></span></span></div><div align="left" style="min-height: 16pt;"><div><span style="font-size: 16px;">window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty();</span></div></div></div><div><span style="font-size: 16px;"><br/></span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 